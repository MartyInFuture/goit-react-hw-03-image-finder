{"version":3,"sources":["Components/imageGallery/imageGalleryItem/ImagesGalleryItemStyled.js","Components/modal/ModalStyled.js","Components/modal/Modal.jsx","Components/imageGallery/imageGalleryItem/ImagesGalleryItem.jsx","Components/api/ApiGetData.js","Components/imageGallery/ImagesGalleryStyled.js","Components/searchbar/SearchbarStyled.js","Components/searchbar/Searchbar.jsx","Components/button/ButtonStyled.js","Components/button/Button.jsx","Components/imageGallery/ImageGallery.jsx","Components/App.jsx","index.js"],"names":["ImagesGalleryItemStyled","styled","li","ModalStyled","div","Modal","escapePress","e","key","props","isModalOpen","document","addEventListener","this","removeEventListener","onClick","onKeyPress","className","src","image","alt","Component","ImagesGalleryItem","state","modalIsOpen","setState","prev","item","webformatURL","onLoad","imageOnLoad","largeImageURL","tags","ApiGetData","input","a","page","inputPerPage","axios","get","process","then","data","hits","res","alert","console","log","ImagesGalleryStyled","ul","SearchbarStyled","header","Searchbar","search","onHandleChange","target","value","onFormSubmit","preventDefault","setSearch","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","ButtonStyled","Button","setPage","spinner","color","height","width","ImageGallery","imagesLoaded","imagesPerPage","prevProps","prevState","window","scrollTo","top","documentElement","scrollHeight","behavior","map","id","length","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.dd55c2cb.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const ImagesGalleryItemStyled = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n\r\n  .ImageGalleryItem-image {\r\n    width: 100%;\r\n    height: 260px;\r\n    object-fit: cover;\r\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  }\r\n\r\n  .ImageGalleryItem-image:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const ModalStyled = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n\r\n  .Modal {\r\n    max-width: calc(100vw - 48px);\r\n    max-height: calc(100vh - 24px);\r\n  }\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { ModalStyled } from './ModalStyled';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.escapePress);\r\n  }\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.escapePress);\r\n  }\r\n  escapePress = (e) => {\r\n    if (e.key === 'Escape') {\r\n      this.props.isModalOpen();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <ModalStyled\r\n        onClick={this.props.isModalOpen}\r\n        onKeyPress={this.escapePress}\r\n      >\r\n        <div className=\"Modal\">\r\n          <img src={this.props.image} alt={this.props.alt} />\r\n        </div>\r\n      </ModalStyled>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  isModalOpen: PropTypes.func,\r\n  image: PropTypes.string,\r\n  alt: PropTypes.string,\r\n};\r\n","import React, { Component } from 'react';\r\nimport { ImagesGalleryItemStyled } from './ImagesGalleryItemStyled';\r\nimport Modal from '../../modal/Modal';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ImagesGalleryItem extends Component {\r\n  state = {\r\n    modalIsOpen: false,\r\n  };\r\n\r\n  isModalOpen = () => {\r\n    this.setState((prev) => ({ modalIsOpen: !prev.modalIsOpen }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <ImagesGalleryItemStyled>\r\n          <img\r\n            src={this.props.item.webformatURL}\r\n            alt=\"\"\r\n            className=\"ImageGalleryItem-image\"\r\n            onLoad={this.props.imageOnLoad}\r\n            onClick={this.isModalOpen}\r\n          />\r\n        </ImagesGalleryItemStyled>\r\n        {this.state.modalIsOpen ? (\r\n          <Modal\r\n            image={this.props.item.largeImageURL}\r\n            alt={this.props.item.tags}\r\n            isModalOpen={this.isModalOpen}\r\n          />\r\n        ) : (\r\n          ''\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImagesGalleryItem;\r\n\r\nImagesGalleryItem.propTypes = {\r\n  item: PropTypes.object,\r\n  imageOnLoad: PropTypes.func,\r\n};\r\n","import axios from 'axios';\r\n\r\nexport const ApiGetData = async (input, page = 1, inputPerPage = 15) => {\r\n  try {\r\n    const res = await axios\r\n      .get(\r\n        `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${input}&page=${page}&per_page=${inputPerPage}&key=${process.env.REACT_APP_PIXYBUY_KEY}`\r\n      )\r\n      .then((data) => data.data.hits);\r\n    return res;\r\n  } catch (error) {\r\n    alert('Bad request');\r\n    console.log(error);\r\n  }\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const ImagesGalleryStyled = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const SearchbarStyled = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n  .SearchForm {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    max-width: 600px;\r\n    background-color: #fff;\r\n    border-radius: 3px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .SearchForm-button {\r\n    display: inline-block;\r\n    width: 48px;\r\n    height: 48px;\r\n    border: 0;\r\n    background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\r\n    background-size: 40%;\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    opacity: 0.6;\r\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    cursor: pointer;\r\n    outline: none;\r\n  }\r\n\r\n  .SearchForm-button:hover {\r\n    opacity: 1;\r\n  }\r\n\r\n  .SearchForm-button-label {\r\n    position: absolute;\r\n    width: 1px;\r\n    height: 1px;\r\n    padding: 0;\r\n    overflow: hidden;\r\n    clip: rect(0, 0, 0, 0);\r\n    white-space: nowrap;\r\n    clip-path: inset(50%);\r\n    border: 0;\r\n  }\r\n\r\n  .SearchForm-input {\r\n    display: inline-block;\r\n    width: 100%;\r\n    font: inherit;\r\n    font-size: 20px;\r\n    border: none;\r\n    outline: none;\r\n    padding-left: 4px;\r\n    padding-right: 4px;\r\n  }\r\n\r\n  .SearchForm-input::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { SearchbarStyled } from './SearchbarStyled';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  onHandleChange = (e) => {\r\n    this.setState({ search: e.target.value });\r\n  };\r\n\r\n  onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.setSearch(this.state.search);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <SearchbarStyled>\r\n        <form className=\"SearchForm\" onSubmit={this.onFormSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onHandleChange}\r\n          />\r\n        </form>\r\n      </SearchbarStyled>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  setSearch: PropTypes.func,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const ButtonStyled = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  .Button {\r\n    padding: 8px 16px;\r\n    border-radius: 2px;\r\n    background-color: #3f51b5;\r\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    text-align: center;\r\n    display: inline-block;\r\n    color: #fff;\r\n    border: 0;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    font-family: inherit;\r\n    font-size: 18px;\r\n    line-height: 24px;\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    min-width: 180px;\r\n    margin-top: 10px;\r\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n      0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  }\r\n  .Button:hover,\r\n  .Button:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\n","import { ButtonStyled } from './ButtonStyled';\r\nimport Loader from 'react-loader-spinner';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ setPage, spinner }) => {\r\n  return (\r\n    <ButtonStyled>\r\n      {spinner ? (\r\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n      ) : (\r\n        <button className=\"Button\" type=\"button\" onClick={setPage}>\r\n          Load more\r\n        </button>\r\n      )}\r\n    </ButtonStyled>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  setPage: PropTypes.func,\r\n  spinner: PropTypes.bool,\r\n};\r\n","import ImagesGalleryItem from './imageGalleryItem/ImagesGalleryItem';\r\nimport { ApiGetData } from '../api/ApiGetData';\r\nimport React, { Component } from 'react';\r\nimport { ImagesGalleryStyled } from './ImagesGalleryStyled';\r\nimport Searchbar from '../searchbar/Searchbar';\r\nimport Button from '../button/Button';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    data: [],\r\n    search: '',\r\n    page: 1,\r\n    spinner: true,\r\n    imagesLoaded: 0,\r\n    imagesPerPage: 15,\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.state.search === '') return false;\r\n    this.search(this.state.page, this.state.imagesPerPage);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.imagesLoaded !== this.state.imagesLoaded) {\r\n      if (this.state.imagesLoaded === this.state.imagesPerPage) {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n        this.setState({ spinner: false, imageOnLoad: 0 });\r\n      }\r\n    }\r\n    if (prevState.page !== this.state.page && this.state.page !== 1) {\r\n      this.search(this.state.page, this.state.imagesPerPage);\r\n      this.setState({ imagesLoaded: 0, spinner: true });\r\n    }\r\n    if (prevState.search !== this.state.search) {\r\n      this.setState({ data: [], page: 1 }, () => {\r\n        this.search(this.state.page, this.state.imagesPerPage);\r\n      });\r\n    }\r\n  }\r\n\r\n  search(page, imagesPerPage) {\r\n    ApiGetData(this.state.search, page, imagesPerPage).then((data) => {\r\n      data.map((item) =>\r\n        this.setState((prev) => ({ data: [...prev.data, item] }))\r\n      );\r\n    });\r\n  }\r\n\r\n  imageOnLoad = () => {\r\n    this.setState((prev) => ({ imagesLoaded: prev.imagesLoaded + 1 }));\r\n  };\r\n\r\n  setSearch = (value) => {\r\n    this.setState({ search: value });\r\n  };\r\n\r\n  setPage = () => {\r\n    this.setState((prev) => ({ page: prev.page + 1 }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Searchbar setSearch={this.setSearch} />\r\n        <ImagesGalleryStyled>\r\n          {this.state.data.map((item) => (\r\n            <ImagesGalleryItem\r\n              key={item.id}\r\n              item={item}\r\n              imageOnLoad={this.imageOnLoad}\r\n            />\r\n          ))}\r\n        </ImagesGalleryStyled>\r\n        {this.state.data.length !== 0 &&\r\n        this.state.data.length % this.state.imagesPerPage === 0 ? (\r\n          <Button setPage={this.setPage} spinner={this.state.spinner} />\r\n        ) : (\r\n          <h2 className=\"notification\">Notification</h2>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport ImageGallery from './imageGallery/ImageGallery';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <ImageGallery />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport App from './Components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}